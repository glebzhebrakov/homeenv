"use strict";angular.module("homeenvApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","infinite-scroll","wu.masonry"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).otherwise({redirectTo:"/"})}]),angular.module("homeenvApp").controller("MainCtrl",["$scope","$http",function(a,b){a.imagesview=[];var c=0;a.selectedCls="",a.classes=[],b({method:"GET",url:"/rest/api/classes"}).then(function(b){a.classes=b.data},function(a){console.log(a)}),a.loadMore=function(){if(a.selectedCls){var d=Math.round(a.imagesview.length/20);(c!=d||0==d)&&(c=d,b({method:"GET",url:"/rest/api/classifications/"+a.selectedCls+"/"+d+"/20"}).then(function(b){a.imagesview=a.imagesview.concat(b.data)},function(a){console.log(a)}))}},a.searchByClass=function(){a.selectedCls&&(c=0,a.imagesview=[],a.loadMore())}}]),angular.module("homeenvApp").run(["$templateCache",function(a){a.put("views/main.html",'<div class="panel"> <select ng-change="searchByClass()" ng-model="selectedCls"> <option selected></option> <option ng-repeat="cls in classes">{{cls}}</option> </select> </div> <div masonry="true" column-width="200" infinite-scroll="loadMore()" infinite-scroll-distance="2"> <div class="masonry-brick img_container" ng-repeat="clsimage in imagesview"> <div class="img_container"> <div class="img_container_media"> <img ng-src="{{ clsimage.path }}" class="img_container_media_img" alt="A masonry brick" height="400" width="400"> <!--<h4>{{image.}}</h4>--> <ul> <li ng-repeat="(key, value) in clsimage.classifications">{{key}} : {{value}}</li> </ul> </div> </div> </div> <div></div>')}]);